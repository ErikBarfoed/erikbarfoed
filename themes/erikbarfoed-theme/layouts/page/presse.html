{{ define "main" }}
<article>
    <h1>{{ .Title }}</h1>

    {{ .Content }}

    <div class="press-photos-grid">
        {{ range .Params.photos }}
        <div class="press-photo-item">
            <img src="{{ .thumbnail | relURL }}" alt="Erik Barfoed. Foto: Morten Holtum" class="press-lightbox-trigger" data-lightbox-src="{{ .lightbox | relURL }}">
            <div class="press-photo-meta">
                <span class="press-photo-label">{{ .label }}</span>
                <a href="{{ .original | relURL }}" download class="press-download">Download</a>
            </div>
        </div>
        {{ end }}
    </div>
    <p class="photo-credit">Foto: Morten Holtum</p>
</article>

<script>
(function() {
    document.querySelectorAll('.press-lightbox-trigger').forEach(function(img) {
        img.style.cursor = 'pointer';
        img.addEventListener('click', function() {
            var lb = document.getElementById('lightbox');
            var lbImg = lb.querySelector('img');
            lbImg.src = this.getAttribute('data-lightbox-src');
            lbImg.alt = this.alt;
            lb.classList.add('active');
        });
    });
})();
</script>
{{ end }}
